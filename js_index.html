<!--<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">-->
<html lang="zh-TW">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!-- <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta http-equiv="Content-Script-Type" content="text/javascript" /> -->
    <title>tsuiokuyo的點歌台</title>

    <link rel="stylesheet" type="text/css" href="/requester.css" media="all" />
    <link rel="stylesheet" type="text/css" href="/main.css" />
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />

    <!-- <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@500&display=swap" rel="stylesheet"> -->
    <link href="https://fonts.googleapis.com/css2?family=Kosugi+Maru&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@500&display=swap" rel="stylesheet">
    <script src="/prototype.js" type="text/javascript"></script>
    <script src="/ricolite.js" type="text/javascript"></script>
    <script src="/scriptaculous/effects.js" type="text/javascript"></script>
    <script src="/scriptaculous/controls.js" type="text/javascript"></script>





    <!--
    <script src="/MochiKit/Base.js" type="text/javascript"></script>
    <script src="/MochiKit/Logging.js" type="text/javascript"></script>
    <script src="/MochiKit/LoggingPane.js" type="text/javascript"></script>
    -->
    <script src="/requester.js" type="text/javascript"></script>

    <script type="text/JScript">
        ieSpecific();
    </script>
    <script type="text/javascript">
        var pe = new PeriodicalExecuter(ShowTimer.run.bind(ShowTimer), 1);
    </script>
	
	

<!--聊天
    <script id="cid0020000339867999652" data-cfasync="false" async src="/emb.js" style="width: 350px;height: 300px;">
        {
            "handle": "c8763",
            "arch": "js",
            "styles": {
                "a": "99cc33",
                "b": 100,
                "c": "000000",
                "d": "000000",
                "k": "99cc33",
                "l": "99cc33",
                "m": "99cc33",
                "p": "10",
                "q": "99cc33",
                "r": 100,
                "t": 0,
                "usricon": 0,
                "pos": "bl",
                "cv": 1,
                "cvbg": "99CC33",
                "cvw": 75,
                "cvh": 30,
                "surl": 0,
                "allowpm": 0
            }
        }
    </script>-->
    <script defer src="/main.js" type="text/javascript"></script>
</head>

<body onload="javascript:bodyOnLoad()">
    <div id="floatLeftDiv" style="float:left;"></div>
    <div id="floatRightDiv" style="float:right;"></div>
    <img id="tabIconImage" style="vertical-align:-1px;display:none" src="/img/accordion-icon.gif" alt="tabIcon" />
    <p id="infoPlace"></p>
    <p id="messagePlace"></p>

    <div id="body">

        <!-- <ul class="trans">

            <li><a href="?">Refresh</a></li>
             <li><a href="/">Home</a></li>
            <li><a href="http://your.server.com:4096/index.html" class="external" target="_blank">Status</a></li>
            <li><a href="http://your.server.com:4096/listen.pls" class="external">Listen</a></li>
            <li><a href="http://your.server.com:4096/played.html" class="external" target="_blank">Song history</a></li>

            <li><a href="/admin">Admin</a></li> 
        </ul>
-->
        <div id="navi" class="float_navi">

            <h3>tsuiokuyo's song request(testing)</h3>
            <!-- 測試字體 查找我叫爸媽買10杯珍奶給你喝好嗎聡この涙を君に捧ぐTEST -->
            <button id="updateStatus">Refresh status</button>

            <script type="text/javascript">
                Event.observe('updateStatus', 'click', ReqStatus.update.curry('', true), false);
            </script>
            <br />

            <div id="serverStatusPlace"></div>

            <!-- play list -->
            <div id="playListPlace" class="listlist"></div>


            <!-- search -->
            <div class="search">

                <form id="searchForm" onsubmit="javascript:SongList.updateFromFormElement('search', 'search'); return false;">
                    <input type="text" size="15" name="search" id="search" />
                    <button id="searchButton"><img id="searchIcon" style="vertical-align:-1px" src="/img/icon5.gif" alt="Search" /> Search</button>
                    <!-- <div class="auto_complete" id="search_auto_complete"></div> -->
                    <!-- <script type="text/javascript" language="javascript" charset="utf-8"> 
                        //Event.observe('searchButton', 'submit', function(e){ SongList.updateFromFormElement('search', 'search'); }, false);
                        Event.observe('searchButton', 'click', function(e) {
                            SongList.updateFromFormElement('search', 'search');
                        }, false);
						/*
                        ga = new Google.Autocompleter('search', 'search_auto_complete', 'http://www.google.co.jp/complete/search', {
                            method: 'get',
                            parameters: 'hl=ja&js=true',
                            paramName: 'qu'
                        });
                        var sendRPCDone = ga.sendRPCDone.bind(ga);*/
                     </script>  -->

                    <!--<font size="2"><a href="#" onClick="SongList.update(''); return false;">Refresh list</a></font>--><br />
                </form>
            </div>

            <!-- index -->
                            <br /><span class="caution">歌名搜尋，基本上搜尋找不到特定歌，不代表一定沒有這首歌<!--，原因有二--></span>
							<br />它有可能是日文、羅馬拼音、日翻英或全形的英文等，其中一種<br>
							e.g.殘酷な天使のテーゼ，此處約有50首，<br>
							但因為漢字差別，必須要搜尋 な天使のテーゼ，否則只會找到一首<br>
							<br>
							另一個原因是因為放新歌要重建目錄，有時候會忘記，點歌就會出現異常了
							 <!--<br />2.排序第20990首歌之後的歌曲"可能"無法被搜尋出來，尚在觀察中...<br>-->
	<hr style="border-color: gray"/>
			<div id="indexForm" class="index_form">

                <div style="font-size:14px" id="accordionIndex" class="accordionPanels">
						 <br/><br/>備註
                        <div >
						1.皆與動畫(表、裏)、遊戲、同人、混音、Live版及特定歌手等相關的歌曲，<br>
						簡單的說就是依我喜好，但幾年內的作品通常也不會有，因為我還沒看，<br>
						況且有時專輯都還沒出完，因為收錄後，後續有出新專輯可能不會注意到，<br>
						而中、日的V家歌曲不會放太多。
						<br><br>
						 <!--2.搜尋其實似乎是正常的，不過還在觀察中<br>
						因為目前索引放進一首歌到能搜尋出來最久要半個月...。<br><br>-->
						2.進度緩慢，估計2023年12月後才會開始整理歷年的東方同人歌曲。<br>
						<br><br>
						3.有26首歌(組曲)超過16分鐘，最長的為點兔的DJ MIX盤 有48分鐘...。
						<br><br>
						4.尚未去除重複歌曲，因為有個別專輯與合集的關係，<br>
						目前約有一成的重複率(5.5K首歌)，重複的基本上都是AVG遊戲。
						<br><br>
						5.少數冷門專輯就是僅有縮短版或mp3格式。
						<br><br>
						<span class="caution" style="font-size:16px">6.搭建Navidrome測試中，不過老實說我使用過後就覺得
						<br>
						本網頁與串流似乎已經沒有存在的必要了......，
						<br>
						Navidrome確實是一個很讚的音樂伺服器，但無奈有些功能無法關閉，
						<br>
						開放的風險對我太高了，因此暫時無法分享使用Navidrome。</span>
						
						<br><br>
						7. 至於用MusicBrainz Picard重新整理tag，英->日之類的，有點風險阿...，
						<br>
						目前洗過metadata反倒發生正確變成錯誤的情況。
						<br>

						</div>
                   <div id="panel1">
                        <div id="panel1Header" class="accordionTabTitleBar">
                            <img id="defaultIcon" style="vertical-align:-1px;" src="/img/icon0.gif" alt="Usage" /> 目前內含的格式
                        </div>
                        <div id="panel1Content" class="accordionTabContentBox" style="display:none">
                            <br />1. FLAC
							<br />2. <span class="caution">MP3</span>
                            <br />3. Apple Lossless <!--(.alac)-->
                            <br />4. Monkey's Audio <!--(.ape)-->
							<br />5. Tom's lossless Audio Kompressor <!--(.TAK)-->
							<br />6. True Audio <!--(.TTA)-->
							<br />7. Audio Interchange File Format <!--pcm (.aiff)-->
							<br />8. <span class="caution"> AAC <!--(.m4a)--></span>
							<br />9. WavPack <!--(.wv)-->
							<br />10. <span class="caution"> Opus</span>
							<br />11. <s>Waveform Audio File Format</s>
                        </div>
                    </div>
					
                    <!--<div id="panel1">
                        <div id="panel1Header" class="accordionTabTitleBar">
                            <img id="defaultIcon" style="vertical-align:-1px;" src="/img/icon0.gif" alt="Usage" /> Index list usage
                        </div>
                        <div id="panel1Content" class="accordionTabContentBox" style="display:none">
                            <br />1. Select an index from artist, album, genre and date.<br /> 2. Select the item in the index for updating to the song list below.<br />
                            <br />Indexes are load dynamically if you need.
                            <br /><span class="caution">Please refresh this page if the index seems to have broken. </span>
                        </div>
                    </div>-->
					<!--
					<div id="panel1">
                        <div id="panel1Header" class="accordionTabTitleBar">
                            <img id="defaultIcon" style="vertical-align:-1px;" src="/img/icon0.gif" alt="Usage" /> 備註
                        </div>
                        <div id="panel1Content" class="accordionTabContentBox" style="display:block">
						1.全部皆與動畫(表、裏)、遊戲、同人(混音)、Live版及特攝有相關的歌曲，<br>
						~~不含Vtuber，而幾年內的番通常也不會有，因為我還沒看，況且有時專輯都還沒出完<br><br>
						2.搜尋問題如果無法解決，以不架伺服器的前提，要解決就只能換播放器了，<br>
						~~反正這架構未來達到10萬首歌時應該會有不可預期的問題出現，不過還在觀察中<br>
						~~因為目前索引放進一首歌到能搜尋出來最久要半個月...<br><br>
						3.空間不足，估計2023年10月後會開始整理東方project所有歌曲...吧<br>
						<br><br>
						4.有14首歌(組曲)超過17分鐘，最長的為48分鐘...
						
						<br>
						</div>
                    </div>

                    <div id="panel2">
                        <div id="panel2Header" class="accordionTabTitleBar">
                            <img id="artistIcon" style="vertical-align:-1px;" src="/img/icon1.gif" alt="Artist index" /> Artist index
                        </div>
                        <div id="panel2Content" class="accordionTabContentBox" style="display:none">
                            <br/>Now loading...
                        </div>
                    </div>

                    <div id="panel3">
                        <div id="panel3Header" class="accordionTabTitleBar">
                            <img id="albumIcon" style="vertical-align:-1px;" src="/img/icon2.gif" alt="Album index" /> Album index
                        </div>
                        <div id="panel3Content" class="accordionTabContentBox" style="display:none">
                            <br/>Now loading...
                        </div>
                    </div>

                    <div id="panel4">
                        <div id="panel4Header" class="accordionTabTitleBar">
                            <img id="genreIcon" style="vertical-align:-1px;" src="/img/icon3.gif" alt="Genre index" /> Genre index
                        </div>
                        <div id="panel4Content" class="accordionTabContentBox" style="display:none">
                            <br/>Now loading...
                        </div>
                    </div>

                    <div id="panel5">
                        <div id="panel5Header" class="accordionTabTitleBar">
                            <img id="dateIcon" style="vertical-align:-1px;" src="/img/icon4.gif" alt="Date index" /> Date index
                        </div>
                        <div id="panel5Content" class="accordionTabContentBox" style="display:none">
                            <br/>Now loading...
                        </div>
                    </div>
-->
                </div>

            </div>

            <script type="text/javascript">
                setupAccord();
            </script>





<!--
            <div id="styleConfigs">
                <script type="text/javascript">
                    if (!document.all) document.write('<button id="naviConfig">fix navi</button>');
                </script>
                &nbsp;
                <button id="tableConfig">fix table</button>

            </div>

            <script type="text/javascript">
                Event.observe('tableConfig', 'click', function(e) {
                    var elem = Event.element(e);
                    var fun = elem.on ? (elem.on = null, elem.childNodes[0].data = 'fix table', Element.removeClassName) : (elem.on = true, elem.childNodes[0].data = 'unfix table', Element.addClassName);
                    var c = $('listContainer');
                    var h = 'auto';
                    if (!document.all) { //Mozilla
                        if (elem.on) h = window.innerHeight - 250 + 'px';
                        fun(c, 'scrollable');
                        $A(c.getElementsByTagName('tbody')).each(function(v) {
                            v.style.height = h;
                        });
                    } else { //IE
                        //if(elem.on) h = document.body.clientHeight - 250 +'px';
                        fun(c, 'scrollable_ie');
                        //$A(document.getElementsByClassName('tab_item', c)).each( function(v){v.style.height = h;});
                    }
                }, false);
                if (!document.all) {
                    Event.observe('naviConfig', 'click', function(e) {
                        var elem = Event.element(e);
                        if (!elem.on) {
                            $('navi').className = 'fixed_navi';
                            elem.on = true;
                            elem.childNodes[0].data = 'unfix navi'
                        } else {
                            $('navi').className = 'float_navi';
                            elem.on = false;
                            elem.childNodes[0].data = 'fix navi'
                        }
                    }, false);
                }
            </script>
-->

            <!--
        <div id="how" class="how">
          <h4>Usage</h4>
          <ul>
            <li>Select artist to view artists songs.</li>
            <li>Requested songs are in queued by priority.</li>
            <li>Prioritize song if multiple requests to same song.</li>
            <li>You can cancel your requests.</li>

          </ul>
        </div>
        

        <script type="text/javascript">
          Rico.Corner.round($('how'));
        </script>
        -->

            <!-- <p style="font-size:70%;text-align:left;">
                generated by <a href="http://nurugunyo.hp.infoseek.co.jp/foobar.html" class="external">foo_request_http</a>
            </p> -->

            <!--
        <div style="font-size:80%;">
             Logging Panes:
             <ul>
                 <li><a href="javascript:logger.debuggingBookmarklet();">Pop</a></li>

                 <li><a href="javascript:void(createLoggingPane(true));">Inline</a>
             </ul>
         </div>
-->
            <div>


                <br />
                <br /> 如想使用app串流請貼入路徑 <br> 
                <h3>(16bit/48KHz ≈500Kbps[VBR q10] audio/vorbis) <a href="http://tsuiokuyo.ddns.net:8764/lossy.m3u">[.m3u]</a>

                    <Br> http://tsuiokuyo.ddns.net:8764/lossy</h3>
<!--
                <s>備用
                <h3>(16bit/44.1kHz 320kbps HE-AAC audio/aac) <a href="http://tsuiokuyo.ddns.net:8765/listen.pls">[.pls]</a>
                    <Br> http://tsuiokuyo.ddns.net:8765/shoutcast</h3></s>
                <s>僅測試:
                <h3>(24bit/48kHz FLAC Lossless audio/ogg)
                    <Br> http://tsuiokuyo.ddns.net:8764/stream</h3></s>
-->
				<h3>停用無損串流</h3>
                <h3>LAST.fm歷史歌單: <a href="https://www.last.fm/zh/user/Tsuiokuyo" target="_blank">https://www.last.fm/zh/user/Tsuiokuyo</a><br><span style="font-size:14px">但有些歌無法上傳LAST.fm</span></h3>
				
                <h3>有任何問題歡迎寄信：tsuiokuyo@gmail.com<br /><span style="font-size:10px">但我未必會回信...</span></h3>
				<br/>




            </div>

        </div>
        <!-- navi -->




        <div class="main">

            <!-- status -->
            <div id="status">

                <script type="text/javascript">
                    ReqStatus.update('', false);
                </script>
            </div>


            <div id="fixed">
                <div id="fixedMessage"></div>
            </div>

            <br style='font-size:0.1em;' />
            <!-- somehow IE need <br> tag .  -->

            <div id="visualizer_wrapper">
                <div class="audioplayer"><button id="updateStatus2">更新 ⬆</button>

                    <script type="text/javascript">
                        Event.observe('updateStatus2', 'click', ReqStatus.update.curry('', true), false);
                    </script>(16bit/48KHz ≈500Kbps[VBR q10] audio/vorbis)

                    <button data-toggle-class="active" id="btnPlay" type="button" style="width:100px;height:40px;font-size:25px">▶</button>
                    <audio id="vorbis" preload="none" crossorigin="anonymous">
                <source src="http://tsuiokuyo.ddns.net:8764/lossy" type="application/ogg"/>
                </audio>
                    <input type="range" min="0" max="100" step="1" value="50" oninput="setVolume(1, this.value)" />

                    <canvas id='canvas' width="800" height="280" style="border:2px #000079 dashed;"></canvas>
                </div>

                <div id="listContainer">

                    <div id="tab1">
                        <div class="tab_title"><img style="vertical-align:-1px" src="/img/icon7.gif" alt="Request list" /> Request list</div>
                        <!-- songlist -->

                        <div id="requestListPlace" class="tab_item"></div>
                    </div>
                    <!-- songlist -->
                    <!--
          <div id="tab2">
            <div class="tab_title">Song list</div>
            
            <div id="songList" class="tab_item"></div>
          </div>
          -->

                </div>


                <script type="text/javascript">
                    tabList = new TabContainer('listContainer');
                    //SongList.update('', false, true);
                </script>




            </div>
            <!-- main -->

        </div>
        <!-- body -->


</body>


</html>